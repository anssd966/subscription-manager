═══════════════════════════════════════════════════════
   حل مشكلة: الاشتراكات لا تُضاف إلى Firebase
═══════════════════════════════════════════════════════

المشكلة الأكثر شيوعاً: قواعد Firestore (Rules) تمنع الكتابة
─────────────────────────────────────────────────────────────

الخطوة 1: فتح Firebase Console
───────────────────────────────

1. اذهب إلى: https://console.firebase.google.com
2. اختر مشروعك: subscription-manager-f6570
3. من القائمة الجانبية، اختر "Firestore Database"
4. اضغط على تبويب "Rules" (في الأعلى)

الخطوة 2: تحديث قواعد Firestore
─────────────────────────────────

استبدل القواعد الحالية بهذا الكود:

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /subscriptions/{document=**} {
      allow read, write: if true;
    }
  }
}

الخطوة 3: حفظ القواعد
──────────────────────

1. اضغط "Publish" (أو "نشر")
2. انتظر حتى تظهر رسالة "Rules published successfully"

⚠️ تحذير: هذه القواعد تسمح للجميع بالقراءة والكتابة.
   مناسبة للاختبار فقط. يمكنك تحسينها لاحقاً بإضافة المصادقة.

═══════════════════════════════════════════════════════
الخطوة 4: التحقق من الخطأ في المتصفح
═══════════════════════════════════════════════════════

1. افتح المتصفح (Chrome أو Edge)
2. اضغط F12 لفتح Developer Tools
3. اذهب إلى تبويب "Console"
4. حاول إضافة اشتراك جديد
5. ابحث عن رسائل الخطأ:

   - إذا ظهر: "permission-denied"
     → المشكلة في قواعد Firestore (الحل أعلاه)

   - إذا ظهر: "Failed to get document"
     → تأكد من أن Firestore Database مفعّل

   - إذا ظهر: "Network request failed"
     → تحقق من اتصال الإنترنت

═══════════════════════════════════════════════════════
الخطوة 5: التحقق من تفعيل Firestore
═══════════════════════════════════════════════════════

1. في Firebase Console، اذهب إلى "Firestore Database"
2. تأكد من أنك ترى:
   - "Cloud Firestore" في الأعلى
   - تبويبات: Data, Rules, Indexes, Usage
3. إذا لم ترَ هذه، اضغط "Create database"

═══════════════════════════════════════════════════════
الخطوة 6: اختبار الإضافة
═══════════════════════════════════════════════════════

1. بعد تحديث القواعد، أعد تحميل الصفحة (F5)
2. حاول إضافة اشتراك جديد
3. اذهب إلى Firebase Console > Firestore Database > Data
4. يجب أن ترى collection اسمه "subscriptions"
5. يجب أن ترى الاشتراك الجديد!

═══════════════════════════════════════════════════════
ملاحظات إضافية:
═══════════════════════════════════════════════════════

✓ إذا استمرت المشكلة، افتح Console في المتصفح (F12)
  وابحث عن رسائل الخطأ الحمراء

✓ تأكد من أن بيانات Firebase في src/config/firebase.js
  صحيحة ومطابقة لبيانات المشروع

✓ إذا كان التطبيق يعمل محلياً فقط (localStorage)،
  هذا يعني أن Firebase غير مُعدّ بشكل صحيح

═══════════════════════════════════════════════════════

