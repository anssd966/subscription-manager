═══════════════════════════════════════════════════════
   دليل إعداد Firebase للتخزين السحابي
═══════════════════════════════════════════════════════

الخطوة 1: إنشاء مشروع Firebase
─────────────────────────────────────────────

1. اذهب إلى: https://console.firebase.google.com
2. اضغط "Add project" أو "إضافة مشروع"
3. أدخل اسم المشروع (مثلاً: subscription-manager)
4. اضغط "Continue"
5. اختر "Enable Google Analytics" أو اتركه معطلاً (اختياري)
6. اضغط "Create project"
7. انتظر حتى ينتهي الإنشاء (30-60 ثانية)
8. اضغط "Continue"

═══════════════════════════════════════════════════════
الخطوة 2: تفعيل Firestore Database
═══════════════════════════════════════════════════════

1. من القائمة الجانبية، اختر "Firestore Database"
2. اضغط "Create database"
3. اختر "Start in test mode" (للاختبار)
4. اضغط "Next"
5. اختر موقع قاعدة البيانات:
   - اختر أقرب موقع لك (مثلاً: us-central1 أو europe-west1)
6. اضغط "Enable"
7. انتظر حتى يتم التفعيل (30-60 ثانية)

═══════════════════════════════════════════════════════
الخطوة 3: إعداد قواعد Firestore
═══════════════════════════════════════════════════════

1. في صفحة Firestore Database، اضغط على تبويب "Rules"
2. استبدل القواعد بهذا الكود (للاختبار فقط):

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /subscriptions/{document=**} {
      allow read, write: if true;
    }
  }
}

3. اضغط "Publish"

⚠️ ملاحظة: هذه القواعد تسمح للجميع بالقراءة والكتابة.
   يمكنك تحسينها لاحقاً بإضافة المصادقة (Authentication).

═══════════════════════════════════════════════════════
الخطوة 4: الحصول على بيانات الإعداد
═══════════════════════════════════════════════════════

1. اضغط على أيقونة الإعدادات ⚙️ بجانب "Project Overview"
2. اختر "Project settings"
3. في قسم "Your apps"، اضغط على أيقونة الويب </>
4. أدخل اسم التطبيق (مثلاً: subscription-manager-web)
5. اضغط "Register app"
6. ستظهر لك شاشة بها كود firebaseConfig
7. انسخ القيم التالية:
   - apiKey
   - authDomain
   - projectId
   - storageBucket
   - messagingSenderId
   - appId

═══════════════════════════════════════════════════════
الخطوة 5: إضافة البيانات إلى المشروع
═══════════════════════════════════════════════════════

افتح الملف: src/config/firebase.js

استبدل القيم التالية بالقيم التي نسختها:

const firebaseConfig = {
  apiKey: "ضع_apiKey_هنا",
  authDomain: "ضع_authDomain_هنا",
  projectId: "ضع_projectId_هنا",
  storageBucket: "ضع_storageBucket_هنا",
  messagingSenderId: "ضع_messagingSenderId_هنا",
  appId: "ضع_appId_هنا"
}

مثال:
const firebaseConfig = {
  apiKey: "AIzaSyBxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
  authDomain: "my-project.firebaseapp.com",
  projectId: "my-project-12345",
  storageBucket: "my-project-12345.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef123456"
}

═══════════════════════════════════════════════════════
الخطوة 6: اختبار التطبيق
═══════════════════════════════════════════════════════

1. شغّل المشروع:
   npm run dev

2. افتح المتصفح على: http://localhost:5173

3. أضف اشتراك جديد

4. اذهب إلى Firebase Console > Firestore Database
   يجب أن ترى البيانات تظهر في قاعدة البيانات!

═══════════════════════════════════════════════════════
ملاحظات مهمة:
═══════════════════════════════════════════════════════

✓ البيانات تُحفظ تلقائياً في Firebase
✓ هناك نسخة احتياطية في localStorage
✓ إذا لم يكن Firebase مُعدّاً، سيستخدم localStorage فقط
✓ يمكنك الوصول للبيانات من أي جهاز بعد إعداد Firebase
✓ التحديثات تظهر فوراً على جميع الأجهزة

═══════════════════════════════════════════════════════
حل المشاكل:
═══════════════════════════════════════════════════════

إذا ظهرت رسالة خطأ في Console:
→ تأكد من أنك أضفت جميع القيم في firebase.js
→ تأكد من أن Firestore Database مفعّل
→ تأكد من أن القواعد (Rules) منشورة

إذا لم تظهر البيانات في Firebase:
→ افتح Console في المتصفح (F12) وابحث عن الأخطاء
→ تأكد من أن القواعد تسمح بالكتابة

═══════════════════════════════════════════════════════

